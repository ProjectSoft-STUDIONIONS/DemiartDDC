Math.inInterval=Math.inInterval||function(e,t,n){return Math.min(n,Math.max(t,e))},window.lang={get:function(e){return chrome.i18n.getMessage(e)}},window._helper={pack:function(e){return JSON.stringify(e)},unpack:function(e){try{return JSON.parse(e)}catch(e){return null}},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)&&!this.isString&&!this.isBoolean&&!this.isObject&&!this.isArray},isArray:function(e){return!this.isNull(e)&&"[object Array]"===Object.prototype.toString.call(e)},isObject:function(e){return!this.isEmpty(e)&&"object"==typeof e},isBoolean:function(e){return"boolean"==typeof e},isString:function(e){return"string"==typeof e},isNull:function(e){return null==e},isEmpty:function(e){return this.isNull(e)||void 0!==e.length&&0==e.length}},window.storage={get:function(e,t,n){var o=void 0===localStorage[e]||"null"==typeof localStorage[e]?_helper.pack(t):localStorage[e];switch(o=null==_helper.unpack(o)?t:_helper.unpack(o),n){case"number":(_helper.isNull(o)||_helper.isEmpty(o))&&(o=0),_helper.isNumber(o)||(o=parseFloat(o)),this.set(e,o);break;case"boolean":o=_helper.isBoolean(o)?o:!!t,this.set(e,o);break;case"object":case"array":o=_helper.isObject(o)||_helper.isArray(o)?o:"array"==n?[]:{},this.set(e,o);break;default:this.set(e,o)}return o},set:function(e,t){t=_helper.pack(t),localStorage[e]=t}},window.options={get refreshInterval(){return storage.get("refresh_interval",.1666666666666667,"number")},get audioOn(){return storage.get("audioOn",!0,"boolean")},get showContext(){return storage.get("showContext",!0,"boolean")},get refreshSoundFile(){return storage.get("refresh_sound_file","assets/sound/click.ogg","string")},get urlForum(){return storage.get("url_forum","://demiart.ru/forum/","string")},get refreshDate(){return storage.get("refresh_date",(new Date).getFullYear(),"number")},get viewTab(){return storage.get("viewtab",!0,"boolean")},get sounVolume(){return storage.get("sounVolume",.5,"number")},get favicon(){return storage.get("favicon",!0,"boolean")},get demiColor(){return storage.get("demiColor",!0,"boolean")},get protocolForum(){return storage.get("protocol","https","string")},set refreshInterval(e){storage.set("refresh_interval",e)},set audioOn(e){storage.set("audioOn",e)},set showContext(e){storage.set("showContext",e)},set refreshSoundFile(e){storage.set("refresh_sound_file",e)},set urlForum(e){storage.set("url_forum",e)},set refreshDate(e){storage.set("refresh_date",e)},set viewTab(e){storage.set("viewtab",e)},set sounVolume(e){e=Math.inInterval(e,0,1),storage.set("sounVolume",e)},set favicon(e){storage.set("favicon",e)},set demiColor(e){storage.set("demiColor",e)},set protocolForum(e){storage.set("protocol",e)}},window.soundList=[{name:lang.get("defaulSound"),value:"assets/sound/click.ogg",id:"click"},{name:lang.get("messengerSound"),value:"assets/sound/ding.ogg",id:"ding"},{name:lang.get("alarmSound"),value:"assets/sound/alert-0000.ogg",id:"alert-0000"},{name:lang.get("water1Sound"),value:"assets/sound/water-0000.ogg",id:"water-0000"},{name:lang.get("water2Sound"),value:"assets/sound/water-0001.ogg",id:"water-0001"},{name:lang.get("water3Sound"),value:"assets/sound/water-0002.ogg",id:"water-0002"},{name:lang.get("android1Sound"),value:"assets/sound/android-0000.ogg",id:"android-0000"},{name:lang.get("android2Sound"),value:"assets/sound/android-0001.ogg",id:"android-0001"},{name:lang.get("android3Sound"),value:"assets/sound/android-0002.ogg",id:"android-0002"},{name:lang.get("android4Sound"),value:"assets/sound/android-0003.ogg",id:"android-0003"},{name:lang.get("android5Sound"),value:"assets/sound/animal-0000.ogg",id:"animal-0000"},{name:lang.get("kickSound"),value:"assets/sound/kick-0000.ogg",id:"kick-0000"},{name:lang.get("laser1Sound"),value:"assets/sound/lazer-0000.ogg",id:"lazer-0000"},{name:lang.get("laser2Sound"),value:"assets/sound/lazer-0001.ogg",id:"lazer-0001"},{name:lang.get("sequence1Sound"),value:"assets/sound/sequence-0000.ogg",id:"sequence-0000"},{name:lang.get("sequence2Sound"),value:"assets/sound/sequence-0001.ogg",id:"sequence-0001"},{name:lang.get("sundry1Sound"),value:"assets/sound/misc-0000.ogg",id:"misc-0000"},{name:lang.get("sundry2Sound"),value:"assets/sound/misc-0001.ogg",id:"misc-0001"},{name:lang.get("sundry3Sound"),value:"assets/sound/misc-0002.ogg",id:"misc-0002"},{name:lang.get("sundry4Sound"),value:"assets/sound/animal-0001.ogg",id:"animal-0001"},{name:lang.get("chat1Sound"),value:"assets/sound/sound_1.ogg",id:"sound_1"},{name:lang.get("chat2Sound"),value:"assets/sound/sound_2.ogg",id:"sound_2"},{name:lang.get("chat3Sound"),value:"assets/sound/sound_3.ogg",id:"sound_3"},{name:lang.get("chat4Sound"),value:"assets/sound/sound_4.ogg",id:"sound_4"},{name:lang.get("chat5Sound"),value:"assets/sound/sound_5.ogg",id:"sound_5"},{name:lang.get("chat6Sound"),value:"assets/sound/sound_6.ogg",id:"sound_6"}],window.urlList=[{optiongroup:"Форум",options:[{name:"Главная страница форума",value:"://demiart.ru/forum/index.php"},{name:"Раздел «Photoshop»",value:"://demiart.ru/forum/index.php?act=SC&c=2"},{name:"Раздел «Art»",value:"://demiart.ru/forum/index.php?act=SC&c=3"},{name:"Раздел «Фото»",value:"://demiart.ru/forum/index.php?act=SC&c=11"},{name:"Раздел «Креатив и Созидание»",value:"://demiart.ru/forum/index.php?act=SC&c=9"},{name:"Раздел «Векторные редакторы»",value:"://demiart.ru/forum/index.php?act=SC&c=8"},{name:"Раздел «Flash»",value:"://demiart.ru/forum/index.php?act=SC&c=13"},{name:"Раздел «Handmade. Декоративно-прикладное искусство.»",value:"://demiart.ru/forum/index.php?act=SC&c=18"},{name:"Раздел «Изо»",value:"://demiart.ru/forum/index.php?act=SC&c=15"},{name:"Раздел «3D редакторы»",value:"://demiart.ru/forum/index.php?act=SC&c=10"},{name:"Раздел «Обработка и создание Видео»",value:"://demiart.ru/forum/index.php?act=SC&c=6"},{name:"Раздел «Фракталы»",value:"://demiart.ru/forum/index.php?act=SC&c=19"},{name:"Раздел «Painter и Планшеты»",value:"://demiart.ru/forum/index.php?act=SC&c=17"},{name:"Раздел «Музыка»",value:"://demiart.ru/forum/index.php?act=SC&c=14"},{name:"Раздел «Литература»",value:"://demiart.ru/forum/index.php?act=SC&c=16"},{name:"Раздел «Компьютерные программы»",value:"://demiart.ru/forum/index.php?act=SC&c=20"},{name:"Раздел «Работа»",value:"://demiart.ru/forum/index.php?act=SC&c=21"},{name:"Раздел «Соревнования»",value:"://demiart.ru/forum/index.php?act=SC&c=7"},{name:"Раздел «НАШЕ ВСЁ»",value:"://demiart.ru/forum/index.php?act=SC&c=4"}]},{optiongroup:"Гильдии",options:[{name:"Главная страница Гильдий",value:"://demiart.ru/forum/index.php?act=SC&c=12"},{name:"Форум гильдии Темных",value:"://demiart.ru/forum/index.php?showforum=53"},{name:"Форум гильдии Фантазеров",value:"://demiart.ru/forum/index.php?showforum=56"},{name:"Форум гильдии Фотографов",value:"://demiart.ru/forum/index.php?showforum=60"},{name:"Форум гильдии новичков",value:"://demiart.ru/forum/index.php?showforum=62"},{name:"Форум гильдии Светлых",value:"://demiart.ru/forum/index.php?showforum=63"},{name:"Форум гильдии Вампиров",value:"://demiart.ru/forum/index.php?showforum=68"},{name:"Форум гильдии мир анимэ и манги",value:"://demiart.ru/forum/index.php?showforum=69"},{name:"Форум гильдии Художников",value:"://demiart.ru/forum/index.php?showforum=74"},{name:"Форум гильдии Живописцев",value:"://demiart.ru/forum/index.php?showforum=77"},{name:"Форум гильдии бездельников",value:"://demiart.ru/forum/index.php?showforum=79"},{name:"Форум гильдии Графиков",value:"://demiart.ru/forum/index.php?showforum=84"},{name:"Форум гильдии Фотоарта",value:"://demiart.ru/forum/index.php?showforum=89"},{name:"Форум гильдии Векторщиков",value:"://demiart.ru/forum/index.php?showforum=92"},{name:"Форум гильдии NuArt",value:"://demiart.ru/forum/index.php?showforum=112"},{name:"Форум гильдии Мафии",value:"://demiart.ru/forum/index.php?showforum=114"},{name:"Форум гильдии Трёхмерщиков",value:"://demiart.ru/forum/index.php?showforum=115"},{name:"Форум гильдии Оригиналов",value:"://demiart.ru/forum/index.php?showforum=116"},{name:"Форум гильдии Фрактальщиков",value:"://demiart.ru/forum/index.php?showforum=122"},{name:"Форум гильдии Комиксов",value:"://demiart.ru/forum/index.php?showforum=123"},{name:"Форум гильдии Анималистов",value:"://demiart.ru/forum/index.php?showforum=125"},{name:"Форум гильдии Лингвистов",value:"://demiart.ru/forum/index.php?showforum=126"}]}],function(){var l="undefined"!=typeof chrome?chrome.extension.getBackgroundPage():opera.extension.bgProcess,e=0,c=document.getElementById("playButton"),h=document.getElementById("sounds"),f=document.getElementById("urls"),v=new Audio,y=document.getElementById("volumeCombobox"),x=document.getElementById("demicolor"),n=chrome.runtime.getManifest(),S=n.name+" v"+n.version+" & DemiColor v"+l.demiColorVer;g=function(e){return document.getElementById("neonlight"+e)},w=function(){if(0==e)for(m=0;m<21;m++)g(m).style.color="white";g(e).style.color="#E7AA11",0<e&&(g(e-1).style.color="#F5D681"),5<e&&(g(e-1-5).style.color="white"),e<20?e++:(e=0,clearInterval(flashing),setTimeout(p,0))},p=function(){flashing=setInterval(w,20)},t=function(){return window.close(),!1},document.addEventListener("DOMContentLoaded",function(){document.title=S,document.getElementById("settingtitle01").innerHTML=lang.get("settingtitle01"),document.getElementById("settingtitle02").innerHTML=lang.get("settingtitle02"),document.getElementById("settingtitle02_1").innerHTML=lang.get("settingtitle02_1"),document.getElementById("settingtitle02_2").innerHTML=lang.get("settingtitle02_2"),document.getElementById("settingtitle02_3").innerHTML=lang.get("settingtitle02_3"),document.getElementById("settingtitle02_4").innerHTML=lang.get("settingtitle02_4"),document.getElementById("settingtitle02_5").innerHTML=lang.get("settingtitle02_5"),document.getElementById("settingtitle02_6").innerHTML=lang.get("settingtitle02_6"),document.getElementById("settingtitle02_7").innerHTML=lang.get("settingtitle02_7"),document.getElementById("settingtitle02_8").innerHTML=lang.get("settingtitle02_8"),document.getElementById("settingtitle03").innerHTML=lang.get("settingtitle03"),document.getElementById("settingtitle04").innerHTML=lang.get("settingtitle04"),document.getElementById("settingtitle05").innerHTML=lang.get("settingtitle05"),document.getElementById("settingtitle06").innerHTML=lang.get("settingtitle06"),document.getElementById("settingtitle07").innerHTML=lang.get("settingtitle07"),document.getElementById("settingtitle08").innerHTML=lang.get("settingtitle08"),document.getElementById("settingtitle09").innerHTML=lang.get("settingtitle09"),document.getElementById("save").innerHTML=lang.get("settingtitle10"),document.getElementById("settingtitle11").innerHTML=lang.get("settingtitle11"),document.getElementById("closed").innerHTML=lang.get("closed");var e=function(e){e?v.paused?(v.volume=y.value,v.pause(),v.src=h.value,c.className="forminput play",v.play()):(v.pause(),v.currentTime=0,c.className="forminput stop"):(v.volume=y.value,v.pause(),v.src=h.value,c.className="forminput play",v.play())},t=options.refreshInterval,n=options.protocolForum;for(u=document.getElementById("interval"),l=0;l<u.children.length;l++)if((r=u.children[l]).value==t){r.selected="true";break}for(u=document.getElementById("protocol"),l=0;l<u.children.length;l++)if((r=u.children[l]).value==n){r.selected="true";break}var o=document.getElementById("audio_checkbox"),a=document.getElementById("tab_checkbox"),r=options.sounVolume,u=options.refreshSoundFile,i=(t=options.urlForum,document.getElementById("menu_context")),s=document.getElementById("demicolor"),d=document.getElementById("favicon"),l=0;for(o.checked=options.audioOn,a.checked=options.viewTab,i.checked=options.showContext,d.checked=options.favicon,s.checked=options.demiColor;l<1;)l+=.05,l=Number(l.toFixed(3)),(o=document.createElement("option")).value=l,o.innerHTML=Math.round(100*l)+"%",y.appendChild(o),o.value==r&&(o.selected="true");for(l=0;l<soundList.length;++l)(r=document.createElement("option")).value=soundList[l].value,r.innerHTML=soundList[l].name,h.appendChild(r),r.value===u&&(r.selected="true");for(l=0;l<urlList.length;++l){for(u=document.createElement("optgroup"),r=urlList[l],u.label=r.optiongroup,o=0;o<r.options.length;++o)a=r.options[o],(i=document.createElement("option")).value=a.value,i.innerHTML=a.name,u.appendChild(i),i.value==t&&(i.selected="true");f.appendChild(u)}document.querySelector("#sounds").addEventListener("change",function(){e(!1)}),document.querySelector("#playButton").addEventListener("click",function(){e(!0)}),document.querySelector("#volumeCombobox").addEventListener("change",function(){e(!1)}),document.getElementById("year").innerHTML=" ‒ "+options.refreshDate,document.getElementById("nameext").innerText=S}),document.querySelector("#save").addEventListener("click",function(){var e=document.getElementById("interval"),n=document.getElementById("audio_checkbox"),o=document.getElementById("tab_checkbox"),a=document.getElementById("menu_context"),r=document.getElementById("favicon"),u=document.getElementById("protocol"),i=e.children[e.selectedIndex].value,s=u.children[u.selectedIndex].value,d=f.value;options.protocolForum=s,options.favicon=r.checked,options.refreshSoundFile=h.children[h.selectedIndex].value,options.refreshInterval=parseFloat(i),options.urlForum=d,options.audioOn=n.checked,options.viewTab=o.checked,options.showContext=a.checked,options.sounVolume=y.value,options.demiColor=x.checked,document.getElementById("options").style.display="none",document.getElementById("flashing").style.display="block",p(),setTimeout(t,2500),l.resetOptions()}),document.querySelector("#closed").addEventListener("click",t),v.addEventListener("ended",function(){c.className="forminput stop"}),document.oncontextmenu=function(){}}();